dm "log;clear;output;clear;";
data a;
title 'Yangxi data to calculate AUDPC';
input day rep trt dis;
mort=10-dis;
cards;
0	1	1	10
0	2	1	10
0	3	1	10
0	4	1	10
0	1	2	10
0	2	2	10
0	3	2	10
0	4	2	10
0	1	3	10
0	2	3	10
0	3	3	10
0	4	3	10
0	1	4	10
0	2	4	10
0	3	4	10
0	4	4	10
0	1	5	10
0	2	5	10
0	3	5	10
0	4	5	10
0	1	6	10
0	2	6	10
0	3	6	10
0	4	6	10
0	1	7	10
0	2	7	10
0	3	7	10
0	4	7	10
0	1	8	10
0	2	8	10
0	3	8	10
0	4	8	10
0	1	9	10
0	2	9	10
0	3	9	10
0	4	9	10
0	1	10	10
0	2	10	10
0	3	10	10
0	4	10	10
0	1	11	10
0	2	11	10
0	3	11	10
0	4	11	10
0	1	12	10
0	2	12	10
0	3	12	10
0	4	12	10
0	1	13	10
0	2	13	10
0	3	13	10
0	4	13	10
0	1	14	10
0	2	14	10
0	3	14	10
0	4	14	10
0	1	15	10
0	2	15	10
0	3	15	10
0	4	15	10
0	1	16	10
0	2	16	10
0	3	16	10
0	4	16	10
0	1	17	10
0	2	17	10
0	3	17	10
0	4	17	10
0	1	18	10
0	2	18	10
0	3	18	10
0	4	18	10
0	1	19	10
0	2	19	10
0	3	19	10
0	4	19	10
0	1	20	10
0	2	20	10
0	3	20	10
0	4	20	10
0	5	1	10
0	6	1	10
0	7	1	10
0	8	1	10
0	5	2	10
0	6	2	10
0	7	2	10
0	8	2	10
0	5	3	10
0	6	3	10
0	7	3	10
0	8	3	10
0	5	4	10
0	6	4	10
0	7	4	10
0	8	4	10
0	5	5	10
0	6	5	10
0	7	5	10
0	8	5	10
0	5	6	10
0	6	6	10
0	7	6	10
0	8	6	10
0	5	7	10
0	6	7	10
0	7	7	10
0	8	7	10
0	5	8	10
0	6	8	10
0	7	8	10
0	8	8	10
0	5	9	10
0	6	9	10
0	7	9	10
0	8	9	10
0	5	10	10
0	6	10	10
0	7	10	10
0	8	10	10
0	5	11	10
0	6	11	10
0	7	11	10
0	8	11	10
0	5	12	10
0	6	12	10
0	7	12	10
0	8	12	10
0	5	13	10
0	6	13	10
0	7	13	10
0	8	13	10
0	5	14	10
0	6	14	10
0	7	14	10
0	8	14	10
0	5	15	10
0	6	15	10
0	7	15	10
0	8	15	10
0	5	16	10
0	6	16	10
0	7	16	10
0	8	16	10
0	5	17	10
0	6	17	10
0	7	17	10
0	8	17	10
0	5	18	10
0	6	18	10
0	7	18	10
0	8	18	10
0	5	19	10
0	6	19	10
0	7	19	10
0	8	19	10
0	5	20	10
0	6	20	10
0	7	20	10
0	8	20	10
			
10	1	1	8
10	2	1	8
10	3	1	9
10	4	1	7
10	1	2	9
10	2	2	6
10	3	2	9
10	4	2	9
10	1	3	10
10	2	3	8
10	3	3	8
10	4	3	8
10	1	4	9
10	2	4	10
10	3	4	8
10	4	4	9
10	1	5	8
10	2	5	9
10	3	5	10
10	4	5	10
10	1	6	9
10	2	6	4
10	3	6	8
10	4	6	6
10	1	7	9
10	2	7	9
10	3	7	9
10	4	7	8
10	1	8	2
10	2	8	7
10	3	8	10
10	4	8	8
10	1	9	6
10	2	9	8
10	3	9	10
10	4	9	8
10	1	10	2
10	2	10	7
10	3	10	9
10	4	10	8
10	1	11	10
10	2	11	6
10	3	11	8
10	4	11	7
10	1	12	7
10	2	12	8
10	3	12	7
10	4	12	5
10	1	13	4
10	2	13	10
10	3	13	9
10	4	13	8
10	1	14	1
10	2	14	7
10	3	14	8
10	4	14	10
			
10	1	15	4
10	2	15	5
10	3	15	1
10	4	15	5
10	1	16	6
10	2	16	7
10	3	16	3
10	4	16	6
10	1	17	4
10	2	17	5
10	3	17	6
10	4	17	5
10	1	18	6
10	2	18	5
10	3	18	6
10	4	18	8
10	1	19	10
10	2	19	8
10	3	19	9
10	4	19	10
10	1	20	10
10	2	20	10
10	3	20	10
10	4	20	9
			
			
10	5	1	8
10	6	1	8
10	7	1	7
10	8	1	10
10	5	2	9
10	6	2	6
10	7	2	10
10	8	2	7
10	5	3	9
10	6	3	10
10	7	3	8
10	8	3	10
10	5	4	7
10	6	4	10
10	7	4	9
10	8	4	6
10	5	5	10
10	6	5	8
10	7	5	9
10	8	5	9
10	5	6	10
10	6	6	6
10	7	6	7
10	8	6	7
10	5	7	9
10	6	7	9
10	7	7	9
10	8	7	10
10	5	8	9
10	6	8	10
10	7	8	8
10	8	8	6
10	5	9	7
10	6	9	7
10	7	9	7
10	8	9	9
10	5	10	8
10	6	10	9
10	7	10	9
10	8	10	9
10	5	11	8
10	6	11	9
10	7	11	9
10	8	11	9
10	5	12	4
10	6	12	9
10	7	12	9
10	8	12	7
10	5	13	10
10	6	13	10
10	7	13	9
10	8	13	9
10	5	14	7
10	6	14	9
10	7	14	10
10	8	14	9
10	5	15	3
10	6	15	4
10	7	15	3
10	8	15	5
10	5	16	4
10	6	16	6
10	7	16	4
10	8	16	6
10	5	17	1
10	6	17	5
10	7	17	2
10	8	17	1
10	5	18	1
10	6	18	5
10	7	18	1
10	8	18	5
10	5	19	9
10	6	19	9
10	7	19	10
10	8	19	10
10	5	20	10
10	6	20	9
10	7	20	8
10	8	20	9
			
			
20	1	1	8
20	2	1	6
20	3	1	7
20	4	1	4
20	1	2	8
20	2	2	7
20	3	2	8
20	4	2	8
20	1	3	10
20	2	3	7
20	3	3	4
20	4	3	9
20	1	4	9
20	2	4	8
20	3	4	6
20	4	4	9
20	1	5	6
20	2	5	9
20	3	5	8
20	4	5	10
20	1	6	8
20	2	6	5
20	3	6	9
20	4	6	6
20	1	7	6
20	2	7	8
20	3	7	9
20	4	7	9
20	1	8	7
20	2	8	3
20	3	8	8
20	4	8	10
20	1	9	8
20	2	9	10
20	3	9	8
20	4	9	9
20	1	10	8
20	2	10	9
20	3	10	6
20	4	10	6
20	1	11	7
20	2	11	10
20	3	11	9
20	4	11	6
20	1	12	9
20	2	12	8
20	3	12	8
20	4	12	10
20	1	13	8
20	2	13	9
20	3	13	10
20	4	13	7
20	1	14	10
20	2	14	8
20	3	14	7
20	4	14	6
20	1	15	6
20	2	15	4
20	3	15	4
20	4	15	8
20	1	16	3
20	2	16	5
20	3	16	5
20	4	16	6
20	1	17	7
20	2	17	5
20	3	17	3
20	4	17	6
20	1	18	2
20	2	18	4
20	3	18	5
20	4	18	5
20	1	19	10
20	2	19	8
20	3	19	9
20	4	19	10
20	1	20	10
20	2	20	10
20	3	20	10
20	4	20	9
20	5	1	8
20	6	1	8
20	7	1	7
20	8	1	10
20	5	2	9
20	6	2	6
20	7	2	10
20	8	2	7
20	5	3	8
20	6	3	10
20	7	3	9
20	8	3	9
20	5	4	10
20	6	4	7
20	7	4	8
20	8	4	6
20	5	5	10
20	6	5	8
20	7	5	9
20	8	5	9
20	5	6	9
20	6	6	7
20	7	6	7
20	8	6	8
20	5	7	10
20	6	7	8
20	7	7	9
20	8	7	10
20	5	8	8
20	6	8	9
20	7	8	10
20	8	8	9
20	5	9	6
20	6	9	9
20	7	9	7
20	8	9	7
20	5	10	8
20	6	10	8
20	7	10	9
20	8	10	9
20	5	11	10
20	6	11	8
20	7	11	9
20	8	11	8
20	5	12	6
20	6	12	4
20	7	12	8
20	8	12	9
20	5	13	10
20	6	13	10
20	7	13	9
20	8	13	8
20	5	14	7
20	6	14	9
20	7	14	9
20	8	14	9
20	5	15	2
20	6	15	2
20	7	15	2
20	8	15	5
20	5	16	7
20	6	16	2
20	7	16	3
20	8	16	3
20	5	17	0
20	6	17	3
20	7	17	2
20	8	17	1
20	5	18	1
20	6	18	5
20	7	18	0
20	8	18	5
20	5	19	9
20	6	19	9
20	7	19	10
20	8	19	10
20	5	20	10
20	6	20	9
20	7	20	8
20	8	20	9


;;
*segarea is the equation that will calculate the AUDPC;
 
proc sort data=a;
by rep trt;
run;
data b;
set a;
segarea=((mort+lag(mort))/2)*(day-lag(day));
if day=0 then segarea=.;
run;
proc summary nway data=b;
class rep trt;
var mort segarea;
output out=new sum(segarea)=audpc max(mort)=ymax;
proc print;
run;
proc glm data=new;
class rep trt;
model audpc ymax = trt;
means trt/lsd;
run;
